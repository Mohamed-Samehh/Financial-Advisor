<div class="container mt-5">
  <!-- Title Section -->
  <h2 class="text-center">Login</h2>

  <!-- Card Container -->
  <div class="card">
    <div class="card-body">
      <!-- Success/Error Message -->
      <div *ngIf="message" class="alert text-center alert-dismissible fade show"
           [ngClass]="{
             'alert-success': message.type === 'success',
             'alert-danger': message.type === 'error'
           }" role="alert">
        <strong>{{ message.type === 'success' ? 'Awesome!' : 'Oops!' }}</strong> {{ message.text }}
        <button type="button" class="btn-close" (click)="message = null" aria-label="Close"></button>
      </div>

      <!-- Login Form -->
      <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
        <!-- Email Field -->
        <div class="mb-3 position-relative">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control shadow-sm"
            id="email"
            name="email"
            [(ngModel)]="form.email"
            #email="ngModel"
            required
            email
            [ngClass]="{
              'is-valid': email.valid && (email.dirty || email.touched || submitted),
              'is-invalid': email.invalid && (email.dirty || email.touched || submitted)
            }"
            placeholder="Enter your email"
          />
          <div *ngIf="email.invalid && (email.dirty || email.touched || submitted)" class="text-danger">
            <div *ngIf="email.errors?.['required']">Email is required.</div>
            <div *ngIf="email.errors?.['email']">Invalid email address.</div>
          </div>
        </div>

        <!-- Password Field -->
        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            class="form-control shadow-sm"
            id="password"
            name="password"
            [(ngModel)]="form.password"
            #password="ngModel"
            required
            minlength="8"
            [ngClass]="{
              'is-valid': password.valid && (password.dirty || password.touched || submitted),
              'is-invalid': password.invalid && (password.dirty || password.touched || submitted)
            }"
            placeholder="Enter your password"
          />
          <div *ngIf="password.invalid && (password.dirty || password.touched || submitted)" class="text-danger">
            <div *ngIf="password.errors?.['required']">Password is required.</div>
            <div *ngIf="password.errors?.['minlength']">Password must be at least 8 characters long.</div>
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="btn btn-custom btn-block mt-3"
          [disabled]="!loginForm.valid"
        >
          Login
        </button>
      </form>

      <p class="mt-3 text-center">Don't have an account? <a [routerLink]="['/register']">Register here</a></p>
    </div>
  </div>
</div>
